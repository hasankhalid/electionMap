<!DOCTYPE html>
<meta name="robots" content="noindex">
<html>
  <head>

      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118251433-2"></script>
     <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());
     gtag('config', 'UA-118251433-2');
    </script>

    <link rel="icon" href="./resources/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="./resources/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400" rel="stylesheet">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.10/lodash.min.js"></script>
    <script src="socket.io.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

     <meta content="2018 Elections Live | Plotree" property="og:site_name">
     <meta content="Pakistan General Elections 2018 | Plotree Info Design" property="og:title">
     <meta content="website" property="og:type">
     <meta property="og:image" content="https://plotree.github.io/elections/img/thumbnail18.png">
     <meta content="View live results of 2018 General Elections in Pakistan via interactive visualization" property="og:description">

     <meta name="twitter:card" content="summary_large_image">
     <meta name="twitter:site" content="@plotreeViz">
     <meta name="twitter:title" content="Pakistan General Elections 2018 | Plotree Info Design">
     <meta name="twitter:description" content="View live results of 2018 General Elections in Pakistan via interactive visualization">
     <meta name="twitter:image:src" content="https://plotree.github.io/elections/img/thumbnail18.png">

     <meta name="keywords" content="Plotree Info Design, Plotree, Elections 2018, Pakistan Elections, Elections, Plotree Elections, Data Visualization, Election infographics, Pak elections, Elections Pakistan, Pakistan Votes, Plotree Elections, Elections 2013, Elections 2008, Data arts Pakistan">
     <meta name="description" content="View live results of 2018 General Elections in Pakistan via interactive visualization"/>

    <title>Elections | Plotree Info Design</title>
    <link rel="stylesheet" type="text/css" href="animate.css">
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="./ionrange/ion.rangeSlider.css">
    <link rel="stylesheet" type="text/css" href="./ionrange/ion.rangeSlider.skinNice.css">
  </head>
  <body>
    <div class='applicationWrap' onclick="void(0)">

    <nav class="navbar navbar-expand-lg navbar-dark nav18">
      <div class="container">
        <div>
          <img class="navbar-brand logo plotreeweb" id="plotreelogo" src="./resources/logo.svg"></img>
        </div>

        <ul class="navbar-nav electionbuttcontain">
          <li class="nav-item">
            <div style="display: flex">
              <img class="ballothome" src="./resources/ballot2.svg"></img>
              <span id="past" class="electlink" style="margin-right: 20px; align-self: center; margin-left: 5px;">PAST ELECTIONS</span>
            </div>
          </li>
          <li class="nav-item">
            <div style="display: flex">
              <img class="ballothome" src="./resources/ballot3.svg"></img>
              <span id="2018" year="2018" class="electlink" style="align-self: center; margin-left: 5px;">ELECTION 2018</span>
            </div>
          </li>
          <li class="nav-item socialicons">
            <div style="display: flex; align-items: center; height: 100%; color: #57068c; font-size: 20px;">
              <i style="margin-right: 10px; margin-left: 20px;" class="fab fa-twitter socicon plotreetwitter"></i>
              <i class="fab fa-linkedin-in socicon plotreelinkedin"></i>
            </div>
          </li>
        </ul>
      </div>
    </nav>

    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12" style="display: flex; flex-direction: column; align-items: center">
      <div style="display: flex; height: 125px;">
        <img class="liveBallot" src="./resources/ballot3.svg"></img>
        <span class="liveTitle" style="margin-right: 20px; align-self: center; margin-left: 5px; font-family: 'Lato', sans-serif; font-weight: 300">PAKISTAN ELECTIONS 2018</span>
      </div>
    </div>

    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 vizbuttonscontainer">
      <div class="btn-group" role="Select Visualization" aria-label="Basic example">
        <button id="NA" type="button" class="btn btn-light btnnavigate navbutt butt-18 active" style="font-family: 'Lato', sans-serif; font-weight: 300">NATIONAL ASSEMBLY</button>
        <button id="PA-18" type="button" class="btn btn-light btnnavigate navbutt butt-18 PA" style="font-family: 'Lato', sans-serif; font-weight: 300">PROVINCIAL ASSEMBLY</button>
        <button id="dwvs" type="button" class="btn btn-light btnnavigate navbutt butt-18 dwvs" style="font-family: 'Lato', sans-serif; font-weight: 300">DISTRCT WISE VOTE SHARE</button>
        <div id="mobiledrop" class="dropdown">
          <a class="btn btn-light dropdown-toggle btnnavigate" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="font-family: 'Lato', sans-serif; font-weight: 300">
            More
          </a>
          <div style="width: 100%" class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
            <a class="dropdown-item navbutt mobilenav dwvs" style="font-family: 'Lato', sans-serif; font-weight: 300">District Wise Vote Share</a>
          </div>
        </div>
      </div>
    </div>

    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12" style="display: flex; flex-direction: column; align-items: center; margin-bottom: 25px;">
      <div style="display: flex;">
        <span class="naTitle" style="margin-right: 20px; align-self: center; margin-left: 5px; font-family: 'Lato', sans-serif; font-weight: 300">NATIONAL ASSEMBLY RESULTS</span>
        <span class="paTitle" style="margin-right: 20px; align-self: center; margin-left: 5px; font-family: 'Lato', sans-serif; font-weight: 300">PROVINCIAL ASSEMBLY RESULTS</span>
        <span class="dwTitle" style="margin-right: 20px; align-self: center; margin-left: 5px; font-family: 'Lato', sans-serif; font-weight: 300">DISTRICT WISE VOTE SHARE</span>
      </div>
    </div>

    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 vizbuttonscontainer" id="filterdropdown" style="margin-bottom: 10px; margin-top: -5px; z-index: 9">
      <div class="dropdown">
        <a class="btn btn-primary dropdown-toggle filterbutton" style="border-top-right-radius: 0px; border-bottom-right-radius: 0px; border: 0px;" href="#" role="button" id="dropdownFilterLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Filter
        </a>

        <div class="dropdown-menu" aria-labelledby="dropdownFilterLink">
          <a class="dropdown-item filteritem" id="partyfilterbutt" style="cursor: pointer;">Party</a>
          <a class="dropdown-item filteritem" id="provincefilterbutt" style="cursor: pointer;">Province</a>
          <a class="dropdown-item filteritem" id="votemarginbutt" style="cursor: pointer;">Vote Margin</a>
          <a class="dropdown-item filteritem" id="runnerupbutt" style="cursor: pointer;">Runner Up</a>
          <a class="dropdown-item filteritem" id="voteturnoutbutt" style="cursor: pointer;">Vote Turnout</a>
          <a class="dropdown-item filteritem" id="seatbutt" style="cursor: pointer;">Seat</a>
        </div>
      </div>

      <button type="button" class="btn btn-primary filterbutton" id="resetAll" style="border-top-left-radius: 0px; border-bottom-left-radius: 0px; border: 0px;">Reset</button>

      <div class="dropdown" id="dropdownProvinceLink">
        <a class="btn btn-primary dropdown-toggle filterbutton" style="border: 0px; margin-left: 5px; font-size: 12px;" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Province
        </a>

        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownProvinceLink">
          <a class="dropdown-item filteritem provinceButt" summval="PK" value="KP" id="kpProvinceButt" style="cursor: pointer;">Khyber Pakhtunkhwa</a>
          <a class="dropdown-item filteritem provinceButt" summval="PP" value="Punjab" id="punProvinceButt" style="cursor: pointer;">Punjab</a>
          <a class="dropdown-item filteritem provinceButt" summval="PB" value="Balochistan" id="balProvinceButt" style="cursor: pointer;">Balochistan</a>
          <a class="dropdown-item filteritem provinceButt" summval="PS" value="Sindh" id="sindhProvinceButt" style="cursor: pointer;">Sindh</a>
        </div>
      </div>
    </div>
    <div class="filterscontstantheight">
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 filtercontainer" id="partyFilters">
        <div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Pakistan Tehreek-e-Insaf" active="disabled" id="PTIfilter">
            <label class="form-check-label" for="PTIfilter">PTI</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Pakistan Muslim League (N)" active="disabled" id="PMLNfilter">
            <label class="form-check-label" for="PMLNfilter">PMLN</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Muttahida Majlis-e-Amal Pakistan" active="disabled" id="MMAfilter">
            <label class="form-check-label" for="MMAfilter">MMA</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Pakistan Muslim League" active="disabled" id="PMLfilter">
            <label class="form-check-label" for="INDfilter">PML</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Balochistan Awami Party" active="disabled" id="BAPfilter">
            <label class="form-check-label" for="BAPfilter">BAP</label>
          </div>
        </div>
        <div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Pakistan Peoples Party Parliamentarians" active="disabled" id="PPPPfilter">
            <label class="form-check-label" for="PMLfilter">PPPP</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Independent" active="disabled" id="Indfilter">
            <label class="form-check-label" for="PPPPfilter">Ind.</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Grand Democratic Alliance" active="disabled" id="GDAfilter">
            <label class="form-check-label" for="GDAfilter">GDA</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Muttahida Qaumi Movement Pakistan" active="disabled" id="MQMfilter">
            <label class="form-check-label" for="MQMfilter">MQM</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input partyfilter" value="Rest" active="disabled" id="Restfilter">
            <label class="form-check-label" for="Restfilter">Other</label>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 filtercontainer" id="runnerUpPartyFilters">
        <div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Pakistan Tehreek-e-Insaf" active="disabled" id="PTIfilter">
            <label class="form-check-label" for="PTIfilter">PTI</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Pakistan Muslim League (N)" active="disabled" id="PMLNfilter">
            <label class="form-check-label" for="PMLNfilter">PMLN</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Muttahida Majlis-e-Amal Pakistan" active="disabled" id="MMAfilter">
            <label class="form-check-label" for="MMAfilter">MMA</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Pakistan Muslim League" active="disabled" id="PMLfilter">
            <label class="form-check-label" for="PMLfilter">PML</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Balochistan Awami Party" active="disabled" id="BAPfilter">
            <label class="form-check-label" for="BAPfilter">BAP</label>
          </div>
        </div>
        <div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Pakistan Peoples Party Parliamentarians" active="disabled" id="PPPPfilter">
            <label class="form-check-label" for="PMLfilter">PPPP</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Independent" active="disabled" id="Indfilter">
            <label class="form-check-label" for="PPPPfilter">Ind.</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Grand Democratic Alliance" active="disabled" id="GDAfilter">
            <label class="form-check-label" for="GDAfilter">GDA</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Muttahida Qaumi Movement Pakistan" active="disabled" id="MQMfilter">
            <label class="form-check-label" for="MQMfilter">MQM</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input runneruppartyfilter" value="Rest" active="disabled" id="Restfilter">
            <label class="form-check-label" for="Restfilter">Other</label>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 filtercontainer" id="provinceFilters">
        <div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input provincecheck" toggleClass="provinceDisabled" id="displayAll">
            <label class="form-check-label" for="displayAll">All</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input provincefilter" value="Punjab" active="disabled" id="PUNfilter">
            <label class="form-check-label" for="PUNfilter">Punjab</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input provincefilter" value="Sindh" active="disabled" id="SNDfilter">
            <label class="form-check-label" for="SNDfilter">Sindh</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input provincefilter" value="FATA" active="disabled" id="FATAfilter">
            <label class="form-check-label" for="FATAfilter">FATA</label>
          </div>
        </div>
        <div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input provincefilter" value="Balochistan" active="disabled" id="BALfilter">
            <label class="form-check-label" for="BALfilter">Balochistan</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input provincefilter" active="disabled" value="KP" id="KPKfilter">
            <label class="form-check-label" for="KPKfilter">KPK</label>
          </div>
          <div class="form-group form-check form-check-inline">
            <input type="checkbox" class="form-check-input provincefilter" value="ICT" active="disabled" id="ICTfilter">
            <label class="form-check-label" for="ICTfilter">ICT</label>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 filtercontainer" id="rangeFilters">
        <div style="width: 275px">
          <input type="text" id="voteMargin" name="vote_margin" value="" />
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 filtercontainer" id="rangeFiltersTurnout">
        <div style="width: 275px">
          <input type="text" id="voteTurnout" name="vote_turnout" value="" />
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 filtercontainer" id="rangeFiltersSeat">
        <div style="width: 275px">
          <input type="text" id="naSeat" name="na_seat" value="" />
        </div>
      </div>
    </div>

    <div id="votesharedropdown"class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
      <div class="container">
        <div id="voteshareoptions" class="dropdown">
          <a class="btn btn-light dropdown-toggle btnnavigate" style="padding: 5px;" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Select Party
          </a>
          <div style="width: 200px" class="dropdown-menu">
            <a class="dropdown-item cartinput navbutt mobilenav eighthide" id="PTI" value= "Pakistan Tehreek-e-Insaf">Pakistan Tehreek e Insaf</a>
            <a class="dropdown-item cartinput navbutt mobilenav" id="PMLN" value = "Pakistan Muslim League (N)">Pakistan Muslim League (N)</a>
            <a class="dropdown-item cartinput navbutt mobilenav" id="PPP" value = "Pakistan Peoples Party Parliamentarians">Pakistan Peoples Party</a>
            <a class="dropdown-item cartinput navbutt mobilenav" id="ind" value = "Independent" >Independent</a>
            <a class="dropdown-item cartinput navbutt mobilenav" id="ANP" value = "Awami National Party" >Awami National Party</a>
            <a class="dropdown-item cartinput navbutt mobilenav" id="MQM" value = "Muttahida Qaumi Movement Pakistan">Muttahida Qaumi Movement</a>
            <a class="dropdown-item cartinput navbutt mobilenav" id="PML" value = "Pakistan Muslim League">Pakistan Muslim League</a>
            <a class="dropdown-item cartinput navbutt mobilenav thirteenhide" id="MMA" value = "Muttahida Majlis-e-Amal Pakistan">Muttahida Majlis-e-Amal</a>
            <a class="dropdown-item cartinput navbutt mobilenav thirteenhide" id="TLP" value = "Tehreek-e-Labbaik Pakistan">Tehreek-e-Labbaik Pakistan</a>
            <a class="dropdown-item cartinput navbutt mobilenav thirteenhide" id="TLP" value = "Balochistan Awami Party">Balochistan Awami Party</a>
          </div>
        </div>
      </div>
    </div>

    <div class='container-18'>
      <div class="col-sm-12 col-md-12 col-lg-9 col-xl-9 viz" id="viz2018">
        <div>
          <div style="max-width: 750px; margin-left: auto; margin-right: auto;">
            <div class="container" id="vizcontain">
            </div>
          </div>
        </div>
        <div class="container" id="legendcontain">
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-3 col-xl-3" id="update2018">
        <p class="animated fadeInDefault" style="font-family: 'Lato', sans-serif; font-weight: 300; font-size: 24px; margin-top: 15px;">HIGHLIGHTS</p>
        <div id="topHighlightInfo">
          <p class="animated fadeInDefault highlightinfo" style="margin-top: 15px;">Registered Votes: 104940436</p>
          <p class="animated fadeInDefault highlightinfo" style="font-size: 14px; margin-top: -12px;">Valid Votes: 54365088</p>
          <p class="animated fadeInDefault highlightinfo" style="margin-top: -12px;">Turnout: 51.8%</p>
        </div>
        <p class="animated fadeInDefault highlightinfo genderoverall" style="font-family: 'Lato', sans-serif; font-weight: 300; font-size: 13px; margin-top: -12px; color: #757575;">Male Turnout: Not Available</p>
        <p class="animated fadeInDefault highlightinfo genderoverall" style="font-family: 'Lato', sans-serif; font-weight: 300; font-size: 13px; margin-top: -12px; color: #757575;">Female Turnout: Not Available</p>
        <div class="leaders-18" id="firstparty">
        </div>
        <div class="leaders-18" id="secondparty">
        </div>
        <div class="leaders-18" id="thirdparty">
        </div>
      </div>
    </div>
    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 leadTitle">
        <img class="liveBallot" style="width: 50px; margin-top: 30px;" src="./resources/ballot3.svg"></img>
        <p style="margin-left: 5px; margin-bottom: 0px; margin-top: 30px;">OVERALL SEATS</p>
    </div>
    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
      <div class="container" id="barcontain">
        <div id="majorityVote">
        </div>
      </div>
    </div>


    <footer id="footer" style="width: 100%; background: #0D47A1;">
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
        <div style="display: flex; justify-content: center;" class="container">
          <img style="width: 100px; height: 100px;" src="./resources/ballotfoot2.svg"></img>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 footercol" style="margin-top: 20px;">
        <div style="display: flex; flex-direction: column; color: white; font-size: 14px;" class="container">
          <p class="plotreename" style="margin-bottom: 0px;">Designed and developed by <span class="footlink plotreeweb">Plotree Info Design</span> © 2018</p>
       </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 footercol" style="margin-top: 20px;">
        <div style="display: flex; flex-direction: column; color: white; font-size: 14px;" class="container">
          <p class="footerdesc" style="margin-bottom: 0px; align-self: center;">Plotree is an information design studio based in Lahore. We help organizations communicate insights underlying their data through interactive web based visualizations. Get in touch and collaborate with us to bring your data to life on your websites, publications or presentations.</p>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 footercol" style="margin-top: 20px;">
        <div style="display: flex; flex-direction: column; color: white; font-size: 14px;" class="container">
          <p class="footerdesc" style="margin-bottom: 0px; align-self: center; color: #FFEB3B;'">Note: In this tool, vote margin is defined as the vote percentage of the runner up subtracted from the vote percentage of the winner.</p>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 footercol" style="margin-top: 20px;">
        <div style="display: flex; flex-direction: column; color: white; font-size: 14px;" class="container">
          <p class="footerdesc" style="margin-bottom: 0px; align-self: center; color: #F57C00;'">Note: Legends do not scale for smaller screen devices.</p>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12" style="margin-top: 20px;">
        <div style="display: flex; justify-content: center; color: white; font-size: 14px;" class="container">
          <i style="font-size: 20px" class="fas fa-link footsocicon plotreeweb"></i>
          <i style="font-size: 20px; margin-right: 15px; margin-left: 15px;" class="fab fa-twitter footsocicon plotreetwitter"></i>
          <i style="font-size: 20px" class="fab fa-linkedin-in footsocicon plotreelinkedin"></i>
        </div>
      </div>
    </footer>
    <div>
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12" style="margin-top: 10px;">
        <div class="container">
          <p style="text-align: center; font-size: 13px; color: #0D47A1;">The data for the results presented on this site are reported by the Election Commision of Pakistan on their website. The data are updated till July 28, 2018</p>
        </div>
      </div>
    </div>
  </div>

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="./ionrange/ion.rangeSlider.min.js"></script>
    <script async src="./essentials/elections_2018.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/topojson.v2.min.js"></script>
    <script src="./essentials/utils.js"></script>
    <script src="./essentials/elections_2018.js"></script>
    <script src="./essentials/prov_2018.js"></script>
    <script async src="./es6/provMaps_2018_compiled.js"></script>
    <script async src="./es6/bar_compiled.js"></script>
    <script src="./es6/cartogram_compiled.js"></script>
    <script src="./es6/namap_2018_compiled.js"></script>
    <script async src="./es6/filterNAmap_compiled.js"></script>

    <script>

      var electionYear = 2013;
      var nationalFilter = true;
      $("#filterdropdown").hide();
      $("#2018").css('color', '#1976D2');

      $('#past').click(function(){
        window.location = "./pastelections.html";
      })

      $(window).on('load', function() {
        createNAMap_2018("init");
      })

      $("#naSeat").ionRangeSlider({
          type: "double",
          grid: true,
          min: 1,
          max: 272,
          from: 1,
          to: 272,
          prefix: "NA "
      });

      $(".plotreelinkedin").click(function() {
        window.open('https://www.linkedin.com/company/plotree/', '_blank');
      });

      $(".plotreetwitter").click(function() {
        window.open('https://twitter.com/plotreeViz', '_blank');
      });

      $(".plotreeweb").click(function() {
        window.open('https://plotree.studio/', '_blank');
      });

      $("#NA").click(function() {
        nationalFilter = true;
        $(this).addClass('active');
        $(".PA").removeClass('active');
        $(".dwvs").removeClass('active');
        $("#votesharedropdown").hide();
        $("#dropdownProvinceLink").hide();
        $("#filterdropdown").hide();
        $(".naTitle").show().addClass('animated fadeInDefault');
        $(".paTitle").hide();
        $(".dwTitle").hide();
        $("#NAmap").show().addClass('animated fadeInDefault');
        $(".filterscontstantheight").show();
        $("#provincefilterbutt").show();
        $(".genderoverall").show().addClass('animated fadeInDefault');
        $(".leadTitle").show().addClass('animated fadeInDefault');
        $(".filtercontainer").hide();
        var slider = $("#naSeat").data("ionRangeSlider");
        slider.update({
            min: 1,
            max: 272,
            from: 1,
            to: 272
        });
        createNAMap_2018("init");
      });
      $(".PA").click(function() {
        nationalFilter = false;
        $(this).addClass('active');
        $("#NA").removeClass('active');
        $("#filterdropdown").hide();
        $(".dwvs").removeClass('active');
        $(".naTitle").hide();
        $(".paTitle").show().addClass('animated fadeInDefault');
        $(".dwTitle").hide();
        $(".genderoverall").hide();
        $(".leadTitle").show().addClass('animated fadeInDefault');
        var slider = $("#naSeat").data("ionRangeSlider");
        slider.update({
            min: 1,
            max: 99,
            from: 1,
            to: 99
        });
        makeProvMaps();
        $("#votesharedropdown").hide();
        $("#provincefilterbutt").hide();
        $(".filtercontainer").hide();
        $(".filterscontstantheight").show();
      });
      $(".dwvs").click(function() {
        $(this).addClass('active');
        $("#NA").removeClass('active');
        $(".PA").removeClass('active');
        $("#dropdownProvinceLink").hide();
        $(".naTitle").hide();
        $(".paTitle").hide();
        $(".genderoverall").hide();
        $(".leadTitle").hide();
        $(".dwTitle").show().addClass('animated fadeInDefault');
        $("#votesharedropdown").show().addClass('animated fadeInDefault');
        $("#votesharedropdown").css('position', 'relative');
        $("#votesharedropdown").css('z-index', '1');
        $("#cartogram").show().addClass('animated fadeInDefault');
        $("#filterdropdown").hide();
        $(".filtercontainer").hide();
        $(".filterscontstantheight").hide();
        createCartogram(2018);
      });

      $("#partyfilterbutt").click(function() {
        $("#provinceFilters").hide();
        $('#rangeFilters').hide();
        $("#runnerUpPartyFilters").hide();
        $('#rangeFiltersSeat').hide();
        $('#rangeFiltersTurnout').hide();
        $("#partyFilters").show().addClass('animated fadeInDefault').css('display', 'flex');
      });

      $("#runnerupbutt").click(function() {
        $("#provinceFilters").hide();
        $('#rangeFilters').hide();
        $("#partyFilters").hide();
        $('#rangeFiltersSeat').hide();
        $('#rangeFiltersTurnout').hide();
        $("#runnerUpPartyFilters").show().addClass('animated fadeInDefault').css('display', 'flex');
      });

      $("#provincefilterbutt").click(function() {
        $("#partyFilters").hide();
        $('#rangeFilters').hide()
        $("#runnerUpPartyFilters").hide();
        $('#rangeFiltersSeat').hide();
        $('#rangeFiltersTurnout').hide();
        $("#provinceFilters").show().addClass('animated fadeInDefault').css('display', 'flex');
      });

      $("#votemarginbutt").click(function() {
        $("#provinceFilters").hide();
        $("#partyFilters").hide();
        $("#runnerUpPartyFilters").hide();
        $('#rangeFiltersSeat').hide();
        $('#rangeFiltersTurnout').hide();
        $('#rangeFilters').show().addClass('animated fadeInDefault').css('display', 'flex');
      });

      $("#voteturnoutbutt").click(function() {
        $("#provinceFilters").hide();
        $("#partyFilters").hide();
        $("#runnerUpPartyFilters").hide();
        $('#rangeFilters').hide();
        $('#rangeFiltersSeat').hide();
        $('#rangeFiltersTurnout').show().addClass('animated fadeInDefault').css('display', 'flex');
      });

      $("#seatbutt").click(function() {
        $("#provinceFilters").hide();
        $("#partyFilters").hide();
        $("#runnerUpPartyFilters").hide();
        $('#rangeFilters').hide();
        $('#rangeFiltersTurnout').hide();
        $('#rangeFiltersSeat').show().addClass('animated fadeInDefault').css('display', 'flex');
      });

      //Filter functions follow

      //variables so filterNAmap is only called once
      var parties = [];
      var runupparties = [];
      var provinces = [];
      var margin = [];
      var turnout = [];
      var seats = [];
      var selectedProvince = ["KP"];

      //For each partyfilter classed element, this function checks its active prop. In case the button is selected, it sets it to active and pushes the party, else it removes party
      $('.partyfilter').change(function() {
        var isActive = $(this).attr("active");
        if(isActive === "disabled") {
          this.setAttribute("active", "active");
          parties.push($(this).attr("value"));
          $('#displayAll').prop('checked', false);
          $('#displayAll').attr("toggleClass", "disabled")
        }
        else {
          this.setAttribute("active", "disabled");
          var index = parties.indexOf($(this).attr("value"));
          if (index >= 0) {
            parties.splice(index, 1);
          }
        }
      })

      $('.runneruppartyfilter').change(function() {
        var isActive = $(this).attr("active");
        if(isActive === "disabled") {
          this.setAttribute("active", "active");
          runupparties.push($(this).attr("value"));
          $('#displayAllrunup').prop('checked', false);
          $('#displayAllrunup').attr("toggleClass", "disabled")
        }
        else {
          this.setAttribute("active", "disabled");
          var index = runupparties.indexOf($(this).attr("value"));
          if (index >= 0) {
            runupparties.splice(index, 1);
          }
        }
      })

      $('.provincefilter').change(function() {
        var isActive = $(this).attr("active");
        if(isActive === "disabled") {
          this.setAttribute("active", "active");
          provinces.push($(this).attr("value"));
          $('.provincecheck').prop('checked', false);
          $('.provincecheck').attr("toggleClass", "provinceDisabled");
        }
        else {
          this.setAttribute("active", "disabled");
          var index = provinces.indexOf($(this).attr("value"));
          if (index >= 0) {
            provinces.splice(index, 1);
          }
        }
      })

      $('.partycheck').change(function() {
        var toggleValue = $(this).attr("toggleClass")
        if(toggleValue === "disabled") {
          this.setAttribute("toggleClass", "active")
          $('.partyfilter').attr("active", "disabled");
          $('.partyfilter').prop('checked', false);
          parties = [];
        }
        else {
          this.setAttribute("toggleClass", "disabled")
          $('.partyfilter').attr("disabled", false);
        }
      })

      $('.partycheckrun').change(function() {
        var toggleValue = $(this).attr("toggleClass")
        if(toggleValue === "disabled") {
          this.setAttribute("toggleClass", "active")
          $('.runneruppartyfilter').attr("active", "disabled");
          $('.runneruppartyfilter').prop('checked', false);
          runupparties = [];
        }
        else {
          this.setAttribute("toggleClass", "disabled")
          $('.runneruppartyfilter').attr("disabled", false);
        }
      })

      $('.provincecheck').change(function() {
        var toggleValue = $(this).attr("toggleClass")
        if(toggleValue === "provinceDisabled") {
          this.setAttribute("toggleClass", "active")
          $('.provincefilter').attr("active", "disabled");
          $('.provincefilter').prop('checked', false);
          provinces = [];
        }
        else {
          this.setAttribute("toggleClass", "provinceDisabled")
          $('.provincefilter').attr("disabled", false);
        }
      })

      $("#voteMargin").ionRangeSlider({
          type: "double",
          grid: true,
          min: 0,
          max: 100,
          from: 0,
          to: 100,
          postfix: " %"
      });

      $("#voteTurnout").ionRangeSlider({
          type: "double",
          grid: true,
          min: 0,
          max: 100,
          from: 0,
          to: 100,
          postfix: " %"
      });

      $('.provinceButt').click(function() {
        var selectedprov = $(this).attr("value");
        selectedProvince = [];
        selectedProvince.push(selectedprov);
        var slider = $("#naSeat").data("ionRangeSlider");
        if (selectedprov === 'KP') {
          slider.update({
              min: 1,
              max: 99,
              from: 1,
              to: 99
          });
        }
        else if (selectedprov === 'Punjab') {
          slider.update({
              min: 1,
              max: 297,
              from: 1,
              to: 297
          });
        }
        else if (selectedprov === 'Balochistan') {
          slider.update({
              min: 1,
              max: 51,
              from: 1,
              to: 51
          });
        }
        else if (selectedprov === 'Sindh') {
          slider.update({
              min: 1,
              max: 128,
              from: 1,
              to: 128
          });
        }
      })


      margin.push($("#voteMargin").data("ionRangeSlider").result.from);
      margin.push($("#voteMargin").data("ionRangeSlider").result.to);

      turnout.push($("#voteTurnout").data("ionRangeSlider").result.from);
      turnout.push($("#voteTurnout").data("ionRangeSlider").result.to);

      seats.push($("#naSeat").data("ionRangeSlider").result.from);
      seats.push($("#naSeat").data("ionRangeSlider").result.to);

      function filterSeats() {
        // Saving Ion range instance to var
        var slider = $("#voteMargin").data("ionRangeSlider");
        var sliderseat = $("#naSeat").data("ionRangeSlider");
        var sliderturn = $("#voteTurnout").data("ionRangeSlider");

        // Get values
        var from = slider.result.from;
        var to = slider.result.to;
        margin[0] = from;
        margin[1] = to;
        var seatfrom = sliderseat.result.from;
        var seatto = sliderseat.result.to;
        var turnfrom = sliderturn.result.from;
        var turnto = sliderturn.result.to;
        turnout[0] = turnfrom;
        turnout[1] = turnto;
        margin[0] = from;
        margin[1] = to;
        seats[0] = seatfrom;
        seats[1] = seatto;

        if (nationalFilter === true) {
          if (provinces.length == 0 && parties.length == 0 && runupparties.length == 0) {
            filterCircles(null, null, margin, null, turnout, seats);
          }
          else if (provinces.length == 0 && runupparties.length == 0 && parties.length > 0) {
            filterCircles(null, parties, margin, null, turnout, seats);
          }
          else if (provinces.length == 0 && runupparties.length > 0 && parties.length == 0) {
            filterCircles(null, null, margin, runupparties, turnout, seats);
          }
          else if (provinces.length > 0 && runupparties.length == 0 && parties.length == 0) {
            filterCircles(provinces, null, margin, null, turnout, seats);
          }
          else if (provinces.length == 0 && runupparties.length > 0 && parties.length > 0) {
            filterCircles(null, parties, margin, runupparties, turnout, seats);
          }
          else if (provinces.length > 0 && runupparties.length == 0 && parties.length > 0) {
            filterCircles(provinces, parties, margin, null, turnout, seats);
          }
          else if (parties.length == 0 && provinces.length > 0 && runupparties.length > 0) {
            filterCircles(provinces, null, margin, runupparties, turnout, seats);
          }
          else {
            filterCircles(provinces, parties, margin, runupparties, turnout, seats);
          }
        }
        if (nationalFilter === false) {
          if (parties.length === 0 && runupparties.length === 0) {
            filterCirclesPr(selectedProvince, null, margin, null, turnout, seats);
          }
          else if (parties.length > 0 && runupparties.length === 0) {
            filterCirclesPr(selectedProvince, parties, margin, null, turnout, seats);
          }
          else if (parties.length === 0 && runupparties.length > 0) {
            filterCirclesPr(selectedProvince, null, margin, runupparties, turnout, seats);
          }
          else {
            filterCirclesPr(selectedProvince, parties, margin, runupparties, turnout, seats);
          }
        }
      }

      $('#voteMargin, #voteTurnout, #naSeat, input:checkbox').change(
        filterSeats
      );


      $("#resetAll, #NA, .PA, .dwvs, #flow, .provinceButt, .electlink").click(function() {
        $('.provincefilter').attr("active", "disabled");
        $('.provincefilter').prop('checked', false);
        provinces = [];
        $('.partyfilter').attr("active", "disabled");
        $('.partyfilter').prop('checked', false);
        $('.runneruppartyfilter').attr("active", "disabled");
        $('.runneruppartyfilter').prop('checked', false);
        parties = [];
        $('.provincecheck').prop('checked', false);
        $('.provincecheck').attr("toggleClass", "provinceDisabled");
        $('#displayAll').prop('checked', false);
        $('#displayAll').attr("toggleClass", "disabled")
        $('#displayAllrunup').prop('checked', false);
        $('#displayAllrunup').attr("toggleClass", "disabled");
        $("#voteMargin").data("ionRangeSlider").reset();
        $("#naSeat").data("ionRangeSlider").reset();
        $("#voteTurnout").data("ionRangeSlider").reset();
        turnout = [];
        margin = [];
        runupparties = [];
        seats = [];

        if (nationalFilter === true) {
          filterCircles();
        }
        else {
          filterCirclesPr(selectedProvince, null, null, null, null, null);
        }
      });

    </script>

    <script src="./essentials/liveResults.js"></script>


  </body>
</html>
